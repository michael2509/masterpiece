{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\micha\\\\Projets\\\\masterpiece\\\\frontend\\\\src\\\\Auth\\\\SignUp\\\\SignUp.jsx\";\nimport React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport label from '../../global/configs/label';\nimport { withFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { Paper } from '@material-ui/core';\nimport { Link as RouterLink, withRouter } from 'react-router-dom';\nimport signUpStyles from './signUpStyles'; // Signup form component\n\nconst signUpForm = props => {\n  const values = props.values,\n        touched = props.touched,\n        errors = props.errors,\n        handleChange = props.handleChange,\n        handleBlur = props.handleBlur,\n        handleSubmit = props.handleSubmit;\n  const classes = signUpStyles();\n  return React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(Avatar, {\n    className: classes.avatar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(LockOutlinedIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  })), React.createElement(Typography, {\n    className: classes.title,\n    component: \"h1\",\n    variant: \"h5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"Inscription\"), React.createElement(\"form\", {\n    className: classes.form,\n    onSubmit: handleSubmit,\n    noValidate: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    id: \"username\",\n    label: label.username,\n    value: values.username,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    helperText: touched.username ? errors.username : \"\",\n    error: touched.username && Boolean(errors.username),\n    variant: \"outlined\",\n    margin: \"normal\",\n    autoFocus: true,\n    fullWidth: true,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    id: \"password\",\n    label: label.password,\n    type: \"password\",\n    value: values.password,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    helperText: touched.password ? errors.password : \"\",\n    error: touched.password && Boolean(errors.password),\n    variant: \"outlined\",\n    margin: \"normal\",\n    fullWidth: true,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    id: \"confirmPassword\",\n    label: label.confirmPassword,\n    type: \"password\",\n    value: values.confirmPassword,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    helperText: touched.confirmPassword ? errors.confirmPassword : \"\",\n    error: touched.confirmPassword && Boolean(errors.confirmPassword),\n    variant: \"outlined\",\n    margin: \"normal\",\n    fullWidth: true,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    className: classes.submit,\n    size: \"large\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"S'inscrire\")), React.createElement(RouterLink, {\n    to: \"/connexion\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(Link, {\n    component: \"span\",\n    variant: \"body2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"Vous avez d\\xE9j\\xE0 un compte? Connectez-vous\")));\n}; // Signup form component with formik validation\n\n\nconst SignUp = withFormik({\n  mapPropsToValues: ({\n    username,\n    password,\n    confirmPassword\n  }) => {\n    return {\n      username: username || \"\",\n      password: password || \"\",\n      confirmPassword: confirmPassword || \"\"\n    };\n  },\n  validationSchema: Yup.object().shape({\n    username: Yup.string().required(\"Entrez votre identifiant\"),\n    password: Yup.string().matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[.:;?|/\\\\{}<>!@#$%^&*()_+-=])(?=.{8,})/, \"Doit contenir au moins 8 caractères, 1 minuscule, 1 majuscule, 1 chiffres, 1 caractère spécial\").required(\"Entrez votre mot de passe\"),\n    confirmPassword: Yup.string().required(\"Confirmez votre mot de passe\").oneOf([Yup.ref(\"password\")], \"Le mot de passe ne correspond pas\")\n  }),\n  handleSubmit: (values, {\n    props,\n    resetForm\n  }) => {\n    const createSpeaker = props.createSpeaker,\n          history = props.history;\n    const speaker = Object.assign({}, values);\n    delete speaker.confirmPassword;\n    createSpeaker(speaker).then(requestSuccess => {\n      if (requestSuccess) {\n        resetForm();\n        history.push(\"/connexion\");\n      }\n    });\n  }\n})(signUpForm);\nexport default withRouter(SignUp);","map":{"version":3,"sources":["C:/Users/micha/Projets/masterpiece/frontend/src/Auth/SignUp/SignUp.jsx"],"names":["React","Avatar","Button","TextField","Link","LockOutlinedIcon","Typography","label","withFormik","Yup","Paper","RouterLink","withRouter","signUpStyles","signUpForm","props","values","touched","errors","handleChange","handleBlur","handleSubmit","classes","paper","avatar","title","form","username","Boolean","password","confirmPassword","submit","SignUp","mapPropsToValues","validationSchema","object","shape","string","required","matches","oneOf","ref","resetForm","createSpeaker","history","speaker","Object","assign","then","requestSuccess","push"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport label from '../../global/configs/label';\r\nimport { withFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { Paper } from '@material-ui/core';\r\nimport { Link as RouterLink, withRouter } from 'react-router-dom';\r\nimport signUpStyles from './signUpStyles';\r\n\r\n// Signup form component\r\nconst signUpForm = props => {\r\n    const {\r\n        values,\r\n        touched,\r\n        errors,\r\n        handleChange,\r\n        handleBlur,\r\n        handleSubmit\r\n    } = props;\r\n\r\n    const classes = signUpStyles()\r\n\r\n    return (\r\n        <Paper className={classes.paper} elevation={5}>\r\n            <Avatar className={classes.avatar}>\r\n                <LockOutlinedIcon />\r\n            </Avatar>\r\n            <Typography className={classes.title} component=\"h1\" variant=\"h5\">\r\n                Inscription\r\n                    </Typography>\r\n            <form className={classes.form} onSubmit={handleSubmit} noValidate>\r\n                <TextField\r\n                    id=\"username\"\r\n                    label={label.username}\r\n                    value={values.username}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    helperText={touched.username ? errors.username : \"\"}\r\n                    error={touched.username && Boolean(errors.username)}\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    autoFocus\r\n                    fullWidth\r\n                    required\r\n                />\r\n                <TextField\r\n                    id=\"password\"\r\n                    label={label.password}\r\n                    type=\"password\"\r\n                    value={values.password}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    helperText={touched.password ? errors.password : \"\"}\r\n                    error={touched.password && Boolean(errors.password)}\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    required\r\n                />\r\n                <TextField\r\n                    id=\"confirmPassword\"\r\n                    label={label.confirmPassword}\r\n                    type=\"password\"\r\n                    value={values.confirmPassword}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    helperText={touched.confirmPassword ? errors.confirmPassword : \"\"}\r\n                    error={touched.confirmPassword && Boolean(errors.confirmPassword)}\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    required\r\n                />\r\n                <Button\r\n                    type=\"submit\"\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={classes.submit}\r\n                    size=\"large\"\r\n                >\r\n                    S'inscrire\r\n                        </Button>\r\n\r\n            </form>\r\n            <RouterLink to={\"/connexion\"}>\r\n                <Link component=\"span\" variant=\"body2\">Vous avez déjà un compte? Connectez-vous</Link>\r\n            </RouterLink>\r\n        </Paper>\r\n    );\r\n}\r\n\r\n// Signup form component with formik validation\r\nconst SignUp = withFormik({\r\n    mapPropsToValues: ({\r\n        username,\r\n        password,\r\n        confirmPassword,\r\n    }) => {\r\n        return {\r\n            username: username || \"\",\r\n            password: password || \"\",\r\n            confirmPassword: confirmPassword || \"\",\r\n        };\r\n    },\r\n\r\n    validationSchema: Yup.object().shape({\r\n        username: Yup.string()\r\n            .required(\"Entrez votre identifiant\"),\r\n        password: Yup.string()\r\n            .matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[.:;?|/\\\\{}<>!@#$%^&*()_+-=])(?=.{8,})/, \"Doit contenir au moins 8 caractères, 1 minuscule, 1 majuscule, 1 chiffres, 1 caractère spécial\")\r\n            .required(\"Entrez votre mot de passe\"),\r\n        confirmPassword: Yup.string()\r\n            .required(\"Confirmez votre mot de passe\")\r\n            .oneOf([Yup.ref(\"password\")], \"Le mot de passe ne correspond pas\")\r\n    }),\r\n\r\n    handleSubmit: (values, { props, resetForm }) => {\r\n\r\n        const { createSpeaker, history } = props\r\n        const speaker = Object.assign({}, values)\r\n        delete speaker.confirmPassword\r\n\r\n        createSpeaker(speaker).then(requestSuccess => {\r\n            if (requestSuccess) {\r\n                resetForm()\r\n                history.push(\"/connexion\")\r\n            }\r\n        })\r\n\r\n    }\r\n})(signUpForm);\r\n\r\nexport default withRouter(SignUp);"]},"metadata":{},"sourceType":"module"}