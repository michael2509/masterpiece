{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\micha\\\\Projets\\\\masterpiece\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\micha\\\\Projets\\\\masterpiece\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React from'react';import Button from'@material-ui/core/Button';import TextField from'@material-ui/core/TextField';import Dialog from'@material-ui/core/Dialog';import DialogActions from'@material-ui/core/DialogActions';import DialogContent from'@material-ui/core/DialogContent';import DialogContentText from'@material-ui/core/DialogContentText';import DialogTitle from'@material-ui/core/DialogTitle';import Fab from'@material-ui/core/Fab';import AddIcon from'@material-ui/icons/Add';import{withFormik}from\"formik\";import*as Yup from\"yup\";import addChatStyles from'./addChatStyles';// Add chat form component\nvar AddChatForm=function AddChatForm(props){var values=props.values,touched=props.touched,errors=props.errors,handleChange=props.handleChange,handleBlur=props.handleBlur,handleSubmit=props.handleSubmit,isSubmitting=props.isSubmitting,setSubmitting=props.setSubmitting;var classes=addChatStyles();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var handleClickOpen=function handleClickOpen(){setSubmitting(false);setOpen(true);};var handleClose=function handleClose(){setOpen(false);};return React.createElement(\"div\",null,React.createElement(Fab,{onClick:handleClickOpen,className:classes.fab,color:\"primary\",\"aria-label\":\"add\",variant:\"extended\"},React.createElement(AddIcon,{className:classes.extendedIcon}),\"Cr\\xE9er un chat\"),React.createElement(Dialog,{open:isSubmitting?false:open,onClose:handleClose,\"aria-labelledby\":\"form-dialog-title\",disableBackdropClick:true},React.createElement(\"form\",{onSubmit:handleSubmit},React.createElement(DialogTitle,{id:\"form-dialog-title\"},\"Cr\\xE9er un nouveau chat\"),React.createElement(DialogContent,null,React.createElement(DialogContentText,null,\"Cr\\xE9er un chat, vous permettant de communiquer avec vos invit\\xE9s.\"),React.createElement(TextField,{autoFocus:true,margin:\"dense\",id:\"name\",label:\"Nom du chat\",type:\"text\",fullWidth:true,className:classes.chatNameInput,value:values.name,onChange:handleChange,onBlur:handleBlur,helperText:touched.name?errors.name:\"\",error:touched.name&&Boolean(errors.name),variant:\"outlined\"})),React.createElement(DialogActions,null,React.createElement(Button,{color:\"primary\",onClick:handleClose,variant:\"outlined\"},\"Annuler\"),React.createElement(Button,{type:\"submit\",color:\"primary\",variant:\"contained\"},\"Cr\\xE9er\")))));};// add chat form component with formik validation\nvar AddChat=withFormik({mapPropsToValues:function mapPropsToValues(_ref){var name=_ref.name;return{name:name||\"\"};},validationSchema:Yup.object().shape({name:Yup.string().max(120,\"Le nom du chat ne peut pas excéder 120 caractères\").required(\"Veuillez entrer un nom pour le chat\")}),handleSubmit:function handleSubmit(values,_ref2){var props=_ref2.props,resetForm=_ref2.resetForm,setSubmitting=_ref2.setSubmitting;var chat=_objectSpread({},values);var createChat=props.createChat,getChatPage=props.getChatPage;createChat(chat).then(function(reqSuccess){if(reqSuccess){resetForm();setSubmitting(true);getChatPage(0);}else{setSubmitting(false);}});}})(AddChatForm);export default AddChat;","map":{"version":3,"sources":["C:/Users/micha/Projets/masterpiece/frontend/src/Chat/AddChat/AddChat.jsx"],"names":["React","Button","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Fab","AddIcon","withFormik","Yup","addChatStyles","AddChatForm","props","values","touched","errors","handleChange","handleBlur","handleSubmit","isSubmitting","setSubmitting","classes","useState","open","setOpen","handleClickOpen","handleClose","fab","extendedIcon","chatNameInput","name","Boolean","AddChat","mapPropsToValues","validationSchema","object","shape","string","max","required","resetForm","chat","createChat","getChatPage","then","reqSuccess"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { withFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport addChatStyles from './addChatStyles';\r\n\r\n// Add chat form component\r\nconst AddChatForm = (props) => {\r\n\r\n    const {\r\n        values,\r\n        touched,\r\n        errors,\r\n        handleChange,\r\n        handleBlur,\r\n        handleSubmit,\r\n        isSubmitting,\r\n        setSubmitting\r\n    } = props;        \r\n\r\n    const classes = addChatStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleClickOpen = () => {\r\n        setSubmitting(false);\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n        \r\n    return (\r\n        <div>\r\n        <Fab onClick={handleClickOpen} className={classes.fab} color=\"primary\" aria-label=\"add\" variant=\"extended\">\r\n            <AddIcon className={classes.extendedIcon} />\r\n            Créer un chat\r\n        </Fab>\r\n        <Dialog open={isSubmitting ? false : open} onClose={handleClose} aria-labelledby=\"form-dialog-title\" disableBackdropClick>\r\n            <form onSubmit={handleSubmit}>\r\n                <DialogTitle id=\"form-dialog-title\">Créer un nouveau chat</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        Créer un chat, vous permettant de communiquer avec vos invités.\r\n                    </DialogContentText>\r\n                    <TextField\r\n                        autoFocus\r\n                        margin=\"dense\"\r\n                        id=\"name\"\r\n                        label=\"Nom du chat\"\r\n                        type=\"text\"\r\n                        fullWidth\r\n                        className={classes.chatNameInput}\r\n                        value={values.name}\r\n                        onChange={handleChange}\r\n                        onBlur={handleBlur}\r\n                        helperText={touched.name ? errors.name : \"\"}\r\n                        error={touched.name && Boolean(errors.name)}\r\n                        variant=\"outlined\"\r\n                    />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                <Button color=\"primary\" onClick={handleClose} variant=\"outlined\">\r\n                    Annuler\r\n                </Button>\r\n                <Button type=\"submit\" color=\"primary\" variant=\"contained\">\r\n                    Créer\r\n                </Button>\r\n                </DialogActions>\r\n            </form>\r\n        </Dialog>\r\n        </div>\r\n    );\r\n}\r\n\r\n// add chat form component with formik validation\r\nconst AddChat = withFormik({\r\n    mapPropsToValues: ({\r\n        name\r\n    }) => ({\r\n        name: name || \"\"\r\n    }),\r\n\r\n    validationSchema: Yup.object().shape({\r\n        name: Yup.string()\r\n                .max(120, \"Le nom du chat ne peut pas excéder 120 caractères\")\r\n                .required(\"Veuillez entrer un nom pour le chat\"),\r\n    }),\r\n    handleSubmit: (values, { props, resetForm, setSubmitting }) => {\r\n        const chat = {...values};\r\n        const { createChat, getChatPage } = props;\r\n        \r\n        createChat(chat).then(reqSuccess => {\r\n            if (reqSuccess) {\r\n                resetForm();\r\n                setSubmitting(true);\r\n                getChatPage(0);\r\n            } else {\r\n                setSubmitting(false);\r\n            }\r\n        })\r\n    }\r\n})(AddChatForm)\r\n\r\nexport default AddChat;"]},"metadata":{},"sourceType":"module"}